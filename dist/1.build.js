webpackJsonp([1],{575:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(578),i=e(594),n=e(2);var o=function(t){e(592)},r=Object(n.a)(s.a,i.a,i.b,!1,o,null,null);a.default=r.exports},578:function(t,a,e){"use strict";var s=e(3),i=e(9);a.a={name:"Segment-Listing",mixins:[i.a],components:{listing:s.a},mounted(){this.getSegmentSideFilters()},data:()=>({dataTable:{reloadProp:!1,column:["name","targeted_users","total_campaigns","total_boards","total_news_feeds","updated_at","Action"],mapColumns:["id","name","targeted_users","total_campaigns","total_boards","total_news_feeds","is_active","updated_at"],filterable:["name","total_campaigns","total_boards","total_news_feeds","updated_at"],sortable:["name"],headings:{name:"Name",targeted_users:"Target Users",total_campaigns:"Total Campaigns",total_boards:"Total Boards",total_news_feeds:"Total Newsfeeds",updated_at:"Last Edited",Action:"Action"},columnsClasses:{name:"col-sm-3",updated_at:"col-sm-2"},isFooterComponent:!0,componentName:"segmentListing",payLoad:{resource:"segments",action:"get"},searchProp:"",segmentFilterProp:{}},segmentObj:{search:"",segmentFilter:[]}}),methods:{getSegmentSideFilters(){this.api("post",this.constants.getUrl("backendApiUrl"),{resource:"segment/filters",action:"get"},this.authHeaders).then(t=>{this.segmentObj.segmentFilter=t.data.data}).catch(t=>{console.clear(),console.log(t)})},searching(){this.dataTable.searchProp=this.segmentObj.search},segmentSideFilter(t){this.dataTable.segmentFilterProp=t},segmentAction(t){$(".table_drop:not(#"+t.row.id+"_action)").hide(),$("#"+t.row.id+"_action").slideToggle("100")},removeActive(){this.dataTable.segmentFilterProp={}},exportUsers(t){const a={resource:"segment/export/"+t,action:"get"};this.api("post",this.constants.getUrl("backendApiUrl"),a,this.authHeaders,!0).then(t=>{200===t.data.meta.code&&(window.location.href=this.constants.backendUrl+"/download/exportCSV/"+t.data.data.company_id+"/"+t.data.data.file_name)}).catch(t=>{})},changeStatus(t,a){this.$swal({title:"Are you sure ?  You want to "+(1==a?"active":"inactive")+" this !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Yes, Do it!"}).then(e=>{if(e.value){const e={resource:"segment/change-status/"+t+"/"+a,action:"get"};this.api("post",this.constants.getUrl("backendApiUrl"),e,this.authHeaders).then(t=>{t.data.data.status?(this.$swal({position:"top-right",type:"success",title:t.data.data.message,showConfirmButton:!1,timer:2500}),this.dataTable.reloadProp=!this.dataTable.reloadProp):this.$swal({position:"top-right",type:"error",title:t.data.data.message,showConfirmButton:!1,timer:2500})}).catch(t=>{})}})}}}},592:function(t,a,e){var s=e(593);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,e(1).default)("a02d3c50",s,!0,{})},593:function(t,a,e){(t.exports=e(0)(!1)).push([t.i,"",""])},594:function(t,a,e){"use strict";e.d(a,"a",function(){return s}),e.d(a,"b",function(){return i});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page_content_holder"},[e("div",{staticClass:"padding_content"},[e("div",{staticClass:"white_boxed_content lists_page"},[e("header",{staticClass:"sec_header"},[t._m(0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.segmentObj.search,expression:"segmentObj.search"}],attrs:{type:"search",id:"table_search",name:"table_search",placeholder:"Search here..."},domProps:{value:t.segmentObj.search},on:{change:function(a){return t.searching()},input:function(a){a.target.composing||t.$set(t.segmentObj,"search",a.target.value)}}}),t._v(" "),e("div",{staticClass:"align_right"},[t._m(1),t._v(" "),e("ul",{staticClass:"actions_drop list_none"},[e("li",[e("router-link",{attrs:{to:"/dashboard/segment-create"}},[t._v("Create Segment")])],1)])])]),t._v(" "),e("div",{staticClass:"list_holder"},[e("div",{staticClass:"align_left mCustomScrollbar _mCS_1 mCS_no_scrollbar"},[e("div",{staticClass:"side_widget"},[e("strong",{staticClass:"title colored"},[t._v("Filter(s):")]),t._v(" "),e("ul",{staticClass:"list_none side_tags"},t._l(t.segmentObj.segmentFilter,function(a){return e("li",[e("a",{staticClass:"opener anchor_pointer"},[t._v(t._s(a.column.charAt(0).toUpperCase()+a.column.slice(1))),e("i",{staticClass:"fas fa-sort-down"})]),t._v(" "),e("ul",{staticClass:"list_none side_tags inner_tags indicators",staticStyle:{width:"150px"}},t._l(a.children,function(s){return e("li",{class:JSON.stringify(t.dataTable.segmentFilterProp)==JSON.stringify(s)?"active":"",staticStyle:{width:"100%"},on:{click:function(a){return t.segmentSideFilter(s)}}},[e("a",{staticClass:"anchor_pointer sideBar-filter"},[t._v(t._s("tags"==a.column.toLowerCase()?s.value:s.value.charAt(0).toUpperCase()+s.value.slice(1))+"\n                                            "),JSON.stringify(t.dataTable.segmentFilterProp)==JSON.stringify(s)?e("i",{staticClass:"fa fa-times",staticStyle:{"margin-right":"4px","margin-top":"3px"},attrs:{"aria-hidden":"true"},on:{click:function(a){return a.stopPropagation(),t.removeActive(a)}}}):t._e()])])}),0)])}),0)])]),t._v(" "),e("div",{staticClass:"table_holder mCustomScrollbar _mCS_1 mCS_no_scrollbar auto_table"},[e("div",{staticClass:"dataTables_wrapper no-footer",attrs:{id:"example_wrapper"}},[e("listing",{attrs:{tableColumn:t.dataTable.column,tableFilterable:t.dataTable.filterable,tableSortable:t.dataTable.sortable,tableHeadings:t.dataTable.headings,tableColumnsClasses:t.dataTable.columnsClasses,apiPayLoad:t.dataTable.payLoad,tableMapColumns:t.dataTable.mapColumns,tableSearch:t.dataTable.searchProp,tableSideBarSearch:t.dataTable.segmentFilterProp,componentName:t.dataTable.componentName,tableReloading:t.dataTable.reloadProp,footerComponent:t.dataTable.isFooterComponent},scopedSlots:t._u([{key:"listing",fn:function(a){return[e("i",{staticClass:"fas fa-cog",on:{click:function(e){return e.stopPropagation(),t.segmentAction(a.actionlisting)}}}),t._v(" "),e("i",{staticClass:"fas fa-sort-down",on:{click:function(e){return e.stopPropagation(),t.segmentAction(a.actionlisting)}}}),t._v(" "),e("ul",{staticClass:"table_drop list_none",attrs:{id:a.actionlisting.row.id+"_action"}},[e("li",[e("router-link",{attrs:{to:"/dashboard/segment-edit/"+a.actionlisting.row.id,"data-toggle":"modal","data-target":"#add_lookup"}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Edit\n                                        ")])],1),t._v(" "),e("li",[e("a",{staticClass:"anchor_pointer",on:{click:function(e){return t.changeStatus(a.actionlisting.row.id,1==a.actionlisting.row.is_active?0:1)}}},[1==a.actionlisting.row.is_active?e("i",{staticClass:"fas fa-toggle-off"}):e("i",{staticClass:"fas fa-toggle-on"}),t._v("\n                                            "+t._s(1==a.actionlisting.row.is_active?"In Active":"Active")+"\n                                        ")])]),t._v(" "),e("li",[e("a",{staticClass:"anchor_pointer",on:{click:function(e){return t.exportUsers(a.actionlisting.row.id)}}},[e("i",{staticClass:"fas fa-file-export"}),t._v(" Export\n                                        ")])])])]}}])})],1)])])])])])},i=[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"align_left"},[a("strong",[this._v("Segments")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("strong",{staticClass:"actions_droper"},[this._v("Actions "),a("i",{staticClass:"fas fa-sort-down"})])}]}});